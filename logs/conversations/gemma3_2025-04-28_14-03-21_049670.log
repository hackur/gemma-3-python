2025-04-28 14:03:21.053 | INFO     | __main__:<module>:134 - Loading model from gemma-3-4b-it-q4_0/gemma-3-4b-it-q4_0.gguf
2025-04-28 14:03:21.517 | INFO     | __main__:<module>:141 - Model loaded successfully
2025-04-28 14:03:21.527 | INFO     | __main__:<module>:274 - Starting Gemma3 API Server...
2025-04-28 14:03:21.915 | INFO     | __main__:create_chat_completion:164 - Starting conversation 20250428_140321
2025-04-28 14:03:21.915 | DEBUG    | __main__:create_chat_completion:193 - Formatted prompt for conversation 20250428_140321:
You are a helpful AI assistant with access to function calling capabilities.

When you need to use a function:
1. Analyze if the user's request requires using an available function
2. If yes, respond ONLY with a JSON object in this format:
{
    "name": "function_name",
    "arguments": {
        "param1": "value1",
        "param2": "value2"
    }
}
3. If no function is needed, respond naturally as a helpful assistant

Your responses should be:
- Concise and direct
- Focused on the task at hand
- In valid JSON format when calling functions
- In natural language when no function is needed

DO NOT:
- Include explanations when calling functions
- Mix JSON and natural language
- Make assumptions about unavailable functions
- Use functions not listed in the available functions section

User: What is the current CPU usage?

Available functions:
Function: get_system_info
Description: Get system information
Parameters: {
  "type": "object",
  "properties": {
    "info_type": {
      "type": "string",
      "enum": [
        "cpu",
        "memory",
        "disk",
        "all"
      ]
    }
  },
  "required": [
    "info_type"
  ]
}

Remember to respond with a valid JSON function call if needed.

Assistant:
2025-04-28 14:03:25.191 | DEBUG    | __main__:create_chat_completion:204 - Raw model response for conversation 20250428_140321:
```json
{
    "name": "get_system_info",
    "arguments": {
        "info_type": "cpu"
    }
}
```
2025-04-28 14:03:25.191 | INFO     | __main__:create_chat_completion:226 - Executing function get_system_info for conversation 20250428_140321
2025-04-28 14:03:26.196 | DEBUG    | __main__:create_chat_completion:233 - Function result for conversation 20250428_140321:
{
  "status": "success",
  "result": {
    "cpu": {
      "percent": 33.1,
      "count": 16,
      "freq": {
        "current": 4056,
        "min": 1020,
        "max": 4056
      },
      "stats": {
        "ctx_switches": 89811,
        "interrupts": 249150,
        "soft_interrupts": 150105902,
        "syscalls": 1746392
      }
    }
  }
}
2025-04-28 14:03:26.206 | INFO     | __main__:create_chat_completion:164 - Starting conversation 20250428_140326
2025-04-28 14:03:26.206 | DEBUG    | __main__:create_chat_completion:193 - Formatted prompt for conversation 20250428_140326:
You are a helpful AI assistant with access to function calling capabilities.

When you need to use a function:
1. Analyze if the user's request requires using an available function
2. If yes, respond ONLY with a JSON object in this format:
{
    "name": "function_name",
    "arguments": {
        "param1": "value1",
        "param2": "value2"
    }
}
3. If no function is needed, respond naturally as a helpful assistant

Your responses should be:
- Concise and direct
- Focused on the task at hand
- In valid JSON format when calling functions
- In natural language when no function is needed

DO NOT:
- Include explanations when calling functions
- Mix JSON and natural language
- Make assumptions about unavailable functions
- Use functions not listed in the available functions section

User: Run sample_script.py with argument test

Available functions:
Function: execute_python
Description: Execute a Python script with specified arguments
Parameters: {
  "type": "object",
  "properties": {
    "script_name": {
      "type": "string",
      "description": "Name of the Python script to execute"
    },
    "arguments": {
      "type": "string",
      "description": "Command line arguments for the script"
    }
  },
  "required": [
    "script_name"
  ]
}

Remember to respond with a valid JSON function call if needed.

Assistant:
2025-04-28 14:03:29.339 | DEBUG    | __main__:create_chat_completion:204 - Raw model response for conversation 20250428_140326:
```json
{
    "name": "execute_python",
    "arguments": {
        "script_name": "sample_script.py",
        "arguments": "test"
    }
}
```
2025-04-28 14:03:29.339 | INFO     | __main__:create_chat_completion:226 - Executing function execute_python for conversation 20250428_140326
2025-04-28 14:03:29.367 | DEBUG    | __main__:create_chat_completion:233 - Function result for conversation 20250428_140326:
{
  "status": "success",
  "result": {
    "stdout": "{\n  \"received_args\": [\n    \"test\"\n  ],\n  \"processed\": true,\n  \"count\": 1\n}\n",
    "stderr": "",
    "return_code": 0
  }
}
2025-04-28 14:03:29.375 | INFO     | __main__:create_chat_completion:164 - Starting conversation 20250428_140329
2025-04-28 14:03:29.375 | DEBUG    | __main__:create_chat_completion:193 - Formatted prompt for conversation 20250428_140329:
You are a helpful AI assistant with access to function calling capabilities.

When you need to use a function:
1. Analyze if the user's request requires using an available function
2. If yes, respond ONLY with a JSON object in this format:
{
    "name": "function_name",
    "arguments": {
        "param1": "value1",
        "param2": "value2"
    }
}
3. If no function is needed, respond naturally as a helpful assistant

Your responses should be:
- Concise and direct
- Focused on the task at hand
- In valid JSON format when calling functions
- In natural language when no function is needed

DO NOT:
- Include explanations when calling functions
- Mix JSON and natural language
- Make assumptions about unavailable functions
- Use functions not listed in the available functions section

User: Get all system information including CPU, memory, and disk usage

Available functions:
Function: get_system_info
Description: Get system information
Parameters: {
  "type": "object",
  "properties": {
    "info_type": {
      "type": "string",
      "enum": [
        "cpu",
        "memory",
        "disk",
        "all"
      ]
    }
  },
  "required": [
    "info_type"
  ]
}

Remember to respond with a valid JSON function call if needed.

Assistant:
2025-04-28 14:03:33.462 | DEBUG    | __main__:create_chat_completion:204 - Raw model response for conversation 20250428_140329:
```json
{
    "name": "get_system_info",
    "arguments": {
        "info_type": "all"
    }
}
```
2025-04-28 14:03:33.462 | INFO     | __main__:create_chat_completion:226 - Executing function get_system_info for conversation 20250428_140329
2025-04-28 14:03:34.466 | DEBUG    | __main__:create_chat_completion:233 - Function result for conversation 20250428_140329:
{
  "status": "success",
  "result": {
    "cpu": {
      "percent": 28.7,
      "count": 16,
      "freq": {
        "current": 4056,
        "min": 1020,
        "max": 4056
      },
      "stats": {
        "ctx_switches": 88586,
        "interrupts": 249329,
        "soft_interrupts": 150180668,
        "syscalls": 1747586
      }
    },
    "memory": {
      "total": 68719476736,
      "available": 30083842048,
      "percent": 56.2,
      "used": 32408551424,
      "free": 896466944
    },
    "disk": {
      "total": 1995218165760,
      "used": 11239985152,
      "free": 32926404608,
      "percent": 25.4
    }
  }
}
